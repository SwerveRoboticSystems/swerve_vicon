<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ASMESDC2018: ASME SDC 2018 - Robot Library Class Skeletons</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ASMESDC2018
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ASME SDC 2018 - Robot Library Class Skeletons </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The skeleton code for the classes being made for the 2018 ASME SDC robots is shown below.</p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#install">Installations</a></li>
<li><a href="#omnirobot">OmniRobot Class</a></li>
<li><a href="#motor">Motor Class</a></li>
<li><a href="#encoder">Encoder Class</a></li>
<li><a href="#sensor">Sensor Class</a></li>
<li><a href="#rccontroller">6 Channel RC Controller Class</a></li>
<li><a href="#led">LED Class</a></li>
</ul>
<h2>Revisions List</h2>
<table class="doxtable">
<tr>
<th>Full Name </th><th>Email </th><th>Date </th><th>Revision </th><th>Description  </th></tr>
<tr>
<td>Frederick Wachter </td><td><a href="#" onclick="location.href='mai'+'lto:'+'wac'+'ht'+'erf'+'re'+'ddy'+'@g'+'mai'+'l.'+'com'; return false;">wacht<span style="display: none;">.nosp@m.</span>erfr<span style="display: none;">.nosp@m.</span>eddy@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a> </td><td>2018-02-25 </td><td>0.0.0 </td><td>Initial document </td></tr>
<tr>
<td>Frederick Wachter </td><td><a href="#" onclick="location.href='mai'+'lto:'+'wac'+'ht'+'erf'+'re'+'ddy'+'@g'+'mai'+'l.'+'com'; return false;">wacht<span style="display: none;">.nosp@m.</span>erfr<span style="display: none;">.nosp@m.</span>eddy@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a> </td><td>2018-03-08 </td><td>0.0.1 </td><td>Install for MAG3110 </td></tr>
</table>
<h2>Installations</h2>
<h4>Sensor Class Dependencies</h4>
<p>The sensor class depends on the Sparkfun MAG3110 library that be found <a href="https://goo.gl/6krKLD">here</a>. This library will need to be added to the libraries folder of the Arduino IDE. More information on the MAG3110 can be found <a href="https://goo.gl/mLZ2gx">here</a>.</p>
<p><a href="#top">Back to top</a></p>
<h2><a class="el" href="classOmniRobot.html">OmniRobot</a> Class</h2>
<p>This class is used to define the ASME SDC 2018 Omni-Wheeled robot used for the ASME SDC 2018 SDC (Student Design Competition).</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef OMNI_ROBOT_H_</span></div><div class="line"><span class="preprocessor">#define OMNI_ROBOT_H_</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="LED_8h.html">LED.h</a>&quot;</span>             <span class="comment">// LED status class</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="Motor_8h.html">Motor.h</a>&quot;</span>           <span class="comment">// Motor class</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RCController6CH_8h.html">RCController6CH.h</a>&quot;</span> <span class="comment">// 6 channel RC controller class</span></div><div class="line"><span class="preprocessor">#include &quot;Sensor.h&quot;</span>          <span class="comment">// Sensor class</span></div><div class="line"></div><div class="line"><span class="keyword">class </span><a class="code" href="classOmniRobot.html">OmniRobot</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <a class="code" href="classMotor.html">Motor</a> <a class="code" href="classOmniRobot.html#a6b0f2d1eb85622e18f81c0358bc19eff">drive_right</a>();</div><div class="line">    <a class="code" href="classMotor.html">Motor</a> <a class="code" href="classOmniRobot.html#a78752ef567e9f75732554459942c55e3">drive_left</a>();</div><div class="line">    <a class="code" href="classMotor.html">Motor</a> <a class="code" href="classOmniRobot.html#aaf13bdd74375e53b245ba0c096d82b9f">drive_tail</a>();</div><div class="line">    <a class="code" href="classMotor.html">Motor</a> shoot_left();</div><div class="line">    <a class="code" href="classMotor.html">Motor</a> shoot_right();</div><div class="line">    <a class="code" href="classMotor.html">Motor</a> pusher();</div><div class="line"></div><div class="line">    Sensor compass();</div><div class="line">    Sensor current(); <span class="comment">// current being used by the whole robot</span></div><div class="line">    Sensor ir_ball(); <span class="comment">// sensor used to tell if a ball has been captured</span></div><div class="line">    Sensor ir_capture(); <span class="comment">// sensor used to tell if a ball is infront of the robot or not</span></div><div class="line"></div><div class="line">    <a class="code" href="classRCController6CH.html">RCController6CH</a> <a class="code" href="classOmniRobot.html#a6a2638fdc900a68a68d55e6b28f92db8">rc_controller</a>();</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> encoderModel() {</div><div class="line">        <span class="comment">// Code goes here ...</span></div><div class="line">    }</div><div class="line">    <span class="keywordtype">void</span> controllerInputModel() { <span class="comment">// maybe not needed? maybe define in rc controller class?</span></div><div class="line">        <span class="comment">// Code goes here ...</span></div><div class="line">    }</div><div class="line">    <span class="keywordtype">void</span> robotModel() {</div><div class="line">        <span class="comment">// Code goes here ...</span></div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* OMNI_ROBOT_H_ */</span><span class="preprocessor"></span></div></div><!-- fragment --><p><a href="#top">Back to top</a></p>
<h2><a class="el" href="classMotor.html">Motor</a> Class</h2>
<p>This class is used for motors that have an encoder that works with the Encoder class and has an optional current sensor.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef MOTOR_H_</span></div><div class="line"><span class="preprocessor">#define MOTOR_H_</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;Encoder.h&quot;</span> <span class="comment">// Encoder class and MOTOR_DIR_CW MOTOR_DIR_CCW</span></div><div class="line"><span class="preprocessor">#include &quot;Sensor.h&quot;</span>  <span class="comment">// Sensor class</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define MOTOR_TYPE_DC    1</span></div><div class="line"><span class="preprocessor">#define MOTOR_TYPE_BLDC  2</span></div><div class="line"><span class="preprocessor">#define MOTOR_TYPE_SERVO 3</span></div><div class="line"></div><div class="line"><span class="keyword">struct </span><a class="code" href="structMotorState.html">MotorState</a> {</div><div class="line">    <span class="keywordtype">int</span> duty_cycle; <span class="comment">// value between 0 and 100</span></div><div class="line">    <span class="keywordtype">bool</span> <a class="code" href="structMotorState.html#a7f8ea7429f754b159d27ec127b299e82">direction</a>; <span class="comment">// either MOTOR_DIR_CW or MOTOR_DIR_CCW (from Encoder.h)</span></div><div class="line">};</div><div class="line"><span class="keyword">struct </span><a class="code" href="structMotorPins.html">MotorPins</a> {</div><div class="line">    <span class="keywordtype">int</span> PIN_PWM;</div><div class="line">    <span class="keywordtype">int</span> PIN_A;</div><div class="line">    <span class="keywordtype">int</span> PIN_B;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class </span><a class="code" href="classMotor.html">Motor</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> setupMotor();</div><div class="line">    <span class="keywordtype">double</span> getCurrentUsage();</div><div class="line">    <span class="keywordtype">double</span> getMotorPosition();</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <a class="code" href="structMotorState.html">MotorState</a> state;</div><div class="line">    <a class="code" href="structMotorPins.html">MotorPins</a>  pins;</div><div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> TOTAL_MOTORS;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    Encoder encoder;</div><div class="line">    Sensor current;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* MOTOR_H_ */</span><span class="preprocessor"></span></div></div><!-- fragment --><p><a href="#top">Back to top</a></p>
<h2>Encoder Class</h2>
<p>This is a generalized class for an encoder.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef ENCODER_H_</span></div><div class="line"><span class="preprocessor">#define ENCODER_H_</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define ENCODER_TYPE_INCREMENTAL 1</span></div><div class="line"><span class="preprocessor">#define ENCODER_TYPE_QUADRATURE  2</span></div><div class="line"><span class="preprocessor">#define ENCODER_TYPE_ABSOLUTE    3</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define MOTOR_DIR_CW  0 </span></div><div class="line"><span class="preprocessor">#define MOTOR_DIR_CCW 1</span></div><div class="line"></div><div class="line"><span class="keyword">struct </span>EncoderState {</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> timestamp; <span class="comment">// time of last update</span></div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> position;</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">bool</span> direction;</div><div class="line">};</div><div class="line"><span class="keyword">struct </span>EnoderPins {</div><div class="line">    <span class="keywordtype">int</span> PIN_A;</div><div class="line">    <span class="keywordtype">int</span> PIN_B;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class </span>Encoder {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> setupEncoder();</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    EncoderState state;</div><div class="line">    EncoderPins  pins;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> encoderInterrupt();</div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* ENCODER_H_ */</span><span class="preprocessor"></span></div></div><!-- fragment --><p><a href="#top">Back to top</a></p>
<h2>Sensor Class</h2>
<p>This is a generalized sensor class for the current, IR TOF (time-of-flight), and compass sensors.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef SENSOR_H_</span></div><div class="line"><span class="preprocessor">#define SENSOR_H_</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define SENSOR_TYPE_CURRENT    1</span></div><div class="line"><span class="preprocessor">#define SENSOR_TYPE_IR_DIGITAL 2</span></div><div class="line"><span class="preprocessor">#define SENSOR_TYPE_COMPASS    3</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define SENSOR_COMM_TYPE_DIGITAL 1</span></div><div class="line"><span class="preprocessor">#define SENSOR_COMM_TYPE_PULSE   2 // PWM or PPM</span></div><div class="line"><span class="preprocessor">#define SENSOR_COMM_TYPE_I2C     3</span></div><div class="line"></div><div class="line"><span class="keyword">struct </span>SensorState {</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> timestamp; <span class="comment">// time of last update</span></div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">double</span> data;</div><div class="line">};</div><div class="line"><span class="keyword">struct </span>SensorPins {</div><div class="line">    <span class="keywordtype">int</span> PIN_DATA;</div><div class="line">    <span class="keywordtype">int</span> PIN_CLOCK;</div><div class="line">    <span class="keywordtype">int</span> PIN_INTERRUPT;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class </span>Sensor {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> setupDataInterrupt();</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    SensorState state;</div><div class="line">    SensorPins  pins;</div><div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> TOTAL_SENSORS;</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> COMM_TYPE;</div><div class="line">    <span class="keywordtype">int</span> DATA_SCALAR;</div><div class="line">    <span class="keywordtype">bool</span> INTERRUPTABLE; <span class="comment">// whether data can be updated on interrupt or not</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* SENSOR_H_ */</span><span class="preprocessor"></span></div></div><!-- fragment --><p><a href="#top">Back to top</a></p>
<h2>6 Channel RC Controller Class</h2>
<p>This class is used to take the stick inputs from an RC controller through a 6CH receiver.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef RC_CONTROLLER_6CH_H_</span></div><div class="line"><span class="preprocessor">#define RC_CONTROLLER_6CH_H_</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define DEFAULT_CH_VALUE_MIN 1000 // min PPM signal in microseconds</span></div><div class="line"><span class="preprocessor">#define DEFAULT_CH_VALUE_MAX 2000 // max PPM signal in microseconds</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define CH_MAP_TYPE_BINARY         1 // maps channel values to 0 to 1</span></div><div class="line"><span class="preprocessor">#define CH_MAP_TYPE_UNIDIRECTIONAL 2 // maps channel values to 0 to 100</span></div><div class="line"><span class="preprocessor">#define CH_MAP_TYPE_BIDIRECTIONAL  3 // maps channel values to -100 to 100</span></div><div class="line"></div><div class="line"><span class="keyword">struct </span><a class="code" href="structRCController6CHState.html">RCController6CHState</a> {</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#abf55bdae4e4793a9d59fd85dd8c34a71">timestamp</a>;  <span class="comment">// time of last update</span></div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#ac5c701faba5085e92eafb1eb8ddda7f7">value_ch_1</a>;</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#acafd1d1d335089fa70039d1e031f4ba5">value_ch_2</a>;</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#ae5ecce791c9efdeb9f29bd525f3c19c5">value_ch_3</a>;</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#a22b7ada8c473fcc79d9f31548d926be6">value_ch_4</a>;</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#ab0fa08b702269ed0fede7c24ee600b66">value_ch_5</a>;</div><div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="structRCController6CHState.html#ab7777741bd56e3e0afbd75d177a57ac1">value_ch_6</a>;</div><div class="line">    <span class="keywordtype">int</span> *<a class="code" href="structRCController6CHState.html#a0222ced6c152d373d2cdac67de3ddcba">values</a>[] = {&amp;<a class="code" href="structRCController6CHState.html#ac5c701faba5085e92eafb1eb8ddda7f7">value_ch_1</a>, &amp;<a class="code" href="structRCController6CHState.html#acafd1d1d335089fa70039d1e031f4ba5">value_ch_2</a>, &amp;<a class="code" href="structRCController6CHState.html#ae5ecce791c9efdeb9f29bd525f3c19c5">value_ch_3</a>, &amp;<a class="code" href="structRCController6CHState.html#a22b7ada8c473fcc79d9f31548d926be6">value_ch_4</a>, </div><div class="line">            &amp;<a class="code" href="structRCController6CHState.html#ab0fa08b702269ed0fede7c24ee600b66">value_ch_5</a>, &amp;value_ch_6}; <span class="comment">// iterate through channel values</span></div><div class="line">};</div><div class="line"><span class="keyword">struct </span><a class="code" href="structRCController6CHPins.html">RCController6CHPins</a> {</div><div class="line">    <span class="keywordtype">int</span> <a class="code" href="OmniRobot_8h.html#a3fc469c126d3838d9067a1f73919293a">PIN_CH_1</a>;</div><div class="line">    <span class="keywordtype">int</span> PIN_CH_2;</div><div class="line">    <span class="keywordtype">int</span> PIN_CH_3;</div><div class="line">    <span class="keywordtype">int</span> PIN_CH_4;</div><div class="line">    <span class="keywordtype">int</span> PIN_CH_5;</div><div class="line">    <span class="keywordtype">int</span> PIN_CH_6;</div><div class="line">    <span class="keywordtype">int</span> *PINS[] = {&amp;<a class="code" href="OmniRobot_8h.html#a3fc469c126d3838d9067a1f73919293a">PIN_CH_1</a>, &amp;PIN_CH_2, &amp;PIN_CH_3, &amp;PIN_CH_4, &amp;PIN_CH_5, &amp;PIN_CH_6}; <span class="comment">// iterate through pins</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class </span><a class="code" href="classRCController6CH.html">RCController6CH</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> setupChannel(<span class="keywordtype">int</span> channel, <span class="keywordtype">int</span> map_type, <span class="keywordtype">int</span> threshold);</div><div class="line">    <span class="keywordtype">void</span> setupChannel(<span class="keywordtype">int</span> channel, <span class="keywordtype">int</span> map_type, <span class="keywordtype">int</span> min_value, <span class="keywordtype">int</span> max_value);</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <a class="code" href="structRCController6CHState.html">RCController6CHState</a> state;</div><div class="line">    <a class="code" href="structRCController6CHPins.html">RCController6CHPins</a>  pins;</div><div class="line">    <span class="keywordtype">int</span> CH_UPDATE_HZ; <span class="comment">// frequency at which the controller input model is executed</span></div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> runControllerInputModel(); <span class="comment">// defined in robot class</span></div><div class="line">    <span class="keywordtype">void</span> setupControllerInputTimerInterupt(); <span class="comment">// interrupt to update controller input model</span></div><div class="line">    <span class="keywordtype">void</span> setupChannelInterrupts();</div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* RC_CONTROLLER_6CH_H_ */</span><span class="preprocessor"></span></div></div><!-- fragment --><p><a href="#top">Back to top</a></p>
<h2><a class="el" href="classLED.html">LED</a> Class</h2>
<p>This class is used to determine the various states and error that the robot class can run into and what color sequence to show on the <a class="el" href="classLED.html">LED</a> strip during these events in order to indicate this information to the user.</p>
<p><b>NOTE:</b> **_Still needs to be defined_**</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef LED_H_</span></div><div class="line"><span class="preprocessor">#define LED_H_</span></div><div class="line"></div><div class="line"><span class="keyword">class </span><a class="code" href="classLED.html">LED</a> {</div><div class="line"></div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* LED_H_ */</span><span class="preprocessor"></span></div></div><!-- fragment --><p><a href="#top">Back to top</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 11 2018 11:41:30 for ASMESDC2018 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
